<div [formGroup]="formGroup">
  <div class="icpc-button-pane">
    <button mat-icon-button [mat-dialog-close]="false">
      <mat-icon>clear</mat-icon>
    </button>
  </div>
  <h2 mat-dialog-title>{{dialogTitle}}</h2>
  <mat-form-field class="m">
    <input matInput [matDatepicker]="picker" placeholder="Дата звернення" formControlName="date" required>
    <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
    <mat-datepicker #picker></mat-datepicker>
  </mat-form-field>

  <h4>Причина</h4>
  <fieldset>
    <icpc-reason-subvisit-tab-action-tab [formControl]="reasonsField"></icpc-reason-subvisit-tab-action-tab>
    <span class="asterisk-text">Варто пам'ятати! Ви можете вибрати декілька кодів для кожного поля</span>
  </fieldset>
  <h4>Діагноз</h4>
  <fieldset>
    <icpc-diagnosis-subvisit-tab-action-tab [diagnosisControl]="diagnosisField"></icpc-diagnosis-subvisit-tab-action-tab>
  </fieldset>

  <h4>Дія</h4>
  <fieldset>
    <icpc-action-subvisit-tab-action-tab [formControl]="actionsField"></icpc-action-subvisit-tab-action-tab>
    <span class="asterisk-text">Варто пам'ятати! Ви можете вибрати декілька кодів для кожного поля</span>
  </fieldset>

  <h4>Назва епізоду</h4>
  <fieldset>
    <icpc-episode-selector [diagnosis]="diagnosisField.value" [patient]="patient" [episodes]="episodes" formControlName="episode"></icpc-episode-selector>
  </fieldset>

  <mat-dialog-actions>
    <button mat-button (click)="save()" *ngIf="canSave" [disabled]="formGroup.invalid">Зберегти</button>
  </mat-dialog-actions>
</div>
